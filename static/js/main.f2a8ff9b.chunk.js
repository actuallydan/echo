(this["webpackJsonpgun-smith"]=this["webpackJsonpgun-smith"]||[]).push([[0],{77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(42),l=a.n(n),o=a(6),r=a(3),s=a(2),i=a(5),b=a(80),j=a(81),u=a(82),d=a(0);function O(e){var t=Object(s.useGlobal)("theme"),a=Object(r.a)(t,1)[0],c=Object(i.f)(),n=function(e){var t=e.currentTarget.getAttribute("data-dest");c.push(t)},l={color:a};return Object(d.jsxs)("div",{className:"row between nav",children:[Object(d.jsxs)("div",{className:"column center",children:[Object(d.jsx)(b.a,{"data-dest":"/config",onClick:n,color:a}),Object(d.jsx)("div",{className:"navLabel",style:l,children:"Settings"})]}),Object(d.jsxs)("div",{className:"column center",children:[Object(d.jsx)(j.a,{"data-dest":"/",onClick:n,color:a}),Object(d.jsx)("div",{className:"navLabel",style:l,children:"Stats"})]}),Object(d.jsxs)("div",{className:"column center",children:[Object(d.jsx)(u.a,{"data-dest":"/guns",onClick:n,color:a}),Object(d.jsx)("div",{className:"navLabel",style:l,children:"Guns"})]})]})}var h=a(19),m={theme:"#00DFFE",hp:10,sp:10,prof:0,dex:0,guns:[],shieldRemaining:10,healthRemaining:10},f=a(44),g=a.n(f),p=(a(77),a(21)),v=a(14);function x(e){var t=e.value,a=void 0===t?null:t,c=e.color,n=e.onChange,l=e.style,i=void 0===l?{}:l,b=Object(v.a)(e,["value","color","onChange","style"]),j=Object(s.useGlobal)("theme"),u=Object(r.a)(j,1)[0],O=c||u||"#00DFFE",h=Object(o.a)({border:"2px solid "+O,color:O,boxShadow:"inset 0px 0px 1em "+O,filter:"drop-shadow(0px 0px 0.2em ".concat(O,"20)")},i);return Object(d.jsx)("input",Object(o.a)({className:"input",onChange:n,style:h,value:a},b))}function w(e){var t=e.label,a=void 0===t?"Button":t,c=e.onClick,n=e.color,l=e.className,i=void 0===l?"":l,b=Object(v.a)(e,["label","onClick","color","className"]),j=Object(s.useGlobal)("theme"),u=Object(r.a)(j,1)[0],O=n||u||"#00DFFE",h={border:"2px solid "+O,color:O,boxShadow:"inset 0px 0px 0.1em "+O,filter:"drop-shadow(0px 0px 0.5em ".concat(O,")")};return Object(d.jsx)("div",Object(o.a)(Object(o.a)({},b),{},{onClick:c,className:"button ".concat(i),style:h,children:a}))}var N=a(83);function y(e){var t=e.children,a=e.label,c=Object(s.useGlobal)("theme"),n=Object(r.a)(c,1)[0],l={border:"2px solid ".concat(n),padding:"1em",marginBottom:"2em"},o={color:n};return Object(d.jsxs)("fieldset",{className:"fieldsetSection",style:l,children:[Object(d.jsx)("legend",{style:o,children:a}),t]})}function k(e){var t=e.hideAttack,a=void 0!==t&&t,c=Object(s.useGlobal)("theme"),n=Object(r.a)(c,1)[0],l={color:n},o={borderBottom:"1px solid ".concat(n)};return Object(d.jsxs)("div",{className:"row gunRow gunTableLabel",style:o,children:[Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("div",{style:l,children:"Name"})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("div",{style:l,children:"Range"})}),!a&&Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("div",{style:l,children:"Attack"})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("div",{style:l,children:"Damage"})})]})}var S=[{type:"pistol",damage:"2d6",range:40},{type:"assault_rifle",damage:"2d10",range:60},{type:"sniper_rifle",damage:"1d12",range:200},{type:"shotgun",damage:"4d4",range:15},{type:"rocket_launcher",damage:"2d20",range:60},{type:"submachine_gun",damage:"3d4",range:40}],G=["Dahl","Hyperion","Jakobs","Maliwan","Tediore","Torgue","Vladof"],C=["fire","lightning","cold","force","necrotic"],B=function(e){return Math.random()*(e+1)+(e-1)|0};function F(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function R(e){var t=e.gun,a=t.type,n=t.brand,l=t.range,s=t.damage,i=t.rarity,b=t.element,j=t.bonusDamage,u=e.hideDamage,O=void 0!==u&&u,h=e.hideAttack,m=void 0!==h&&h,f=e.hitBonus,g=void 0===f?0:f,p=Object(c.useState)(null),v=Object(r.a)(p,2),x=v[0],N=v[1],y=Object(c.useState)(0),k=Object(r.a)(y,2),S=k[0],G=k[1],C=Object(c.useState)(null),B=Object(r.a)(C,2),F=B[0],R=B[1],D=Object(c.useState)(0),T=Object(r.a)(D,2),_=T[0],L=T[1];Object(c.useEffect)((function(){var e=null;return F&&(e=setTimeout((function(){N(null)}),2e3)),function(){return clearTimeout(e)}}),[x]);Object(c.useEffect)((function(){var e=null;return F&&(e=setTimeout((function(){R(null)}),2e3)),function(){return clearTimeout(e)}}),[F]);var A=["#FFFFFF","#00FF00","#00DFFE","#ffc107"][i-1],E={color:A},M={color:b?{fire:"#FF5050",lightning:"#0030FF",cold:"#00dffe",force:"yellow",necrotic:"green"}[b]:null,marginLeft:"0.5em"};return Object(d.jsxs)("div",{className:"row gunRow",children:[Object(d.jsxs)("div",{className:"column",children:[Object(d.jsx)("div",{style:E,children:a.replace("_"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}),Object(d.jsx)("div",{style:Object(o.a)(Object(o.a)({},E),{},{fontSize:"0.7em"}),children:n})]}),Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{style:E,children:[l," ft"]})}),!m&&Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)(w,{label:F||"+"+(g+(i-1)),onClick:function(){var e=Math.floor(20*Math.random()+1);20===e&&alert("Natural 20!"),R(e+=g+(i-1)),L(_+1)},color:A,style:{margin:0},className:"popOff"},_)})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(w,{label:x||s,onClick:!O&&function(){var e=function(e){for(var t=function(e){return Math.floor(Math.random()*e)+1},a=0,c=e.damage.split("d"),n=Object(r.a)(c,2),l=n[0],o=n[1],s=0;s<l;s++)a+=t(o);if(e.bonusDamage)for(var i=e.bonusDamage.split("d"),b=Object(r.a)(i,2),j=b[0],u=b[1],d=0;d<j;d++)a+=t(u);return a}({type:a,brand:n,range:l,damage:s,rarity:i,element:b,bonusDamage:j});N(e),G(S+1)},color:A,style:{margin:0},className:"popOff"},S),b&&Object(d.jsxs)("div",{style:M,children:["+",j]})]})})]})}function D(e){var t=e.active,a=void 0!==t&&t,c=e.label,n=e.data,l=e.onClick,o=Object(s.useGlobal)("theme"),i=Object(r.a)(o,1)[0],b={border:"2px solid ".concat(i),color:a?"#222222":i,backgroundColor:a?i:"transparent"};return Object(d.jsx)("button",{className:"roundButton",style:b,onClick:function(){l(n)},children:c||""})}function T(e){var t=e.onNewGun,a=Object(s.useGlobal)("theme"),c=Object(r.a)(a,1)[0],n=Object(s.useState)("pistol"),l=Object(r.a)(n,2),i=l[0],b=l[1],j=Object(s.useState)(0),u=Object(r.a)(j,2),O=u[0],h=u[1],m={border:"2px solid ".concat(c),color:c,backgroundColor:"transparent"},f={pistol:"Pistol",assault_rifle:"Assault",sniper_rifle:"Sniper",shotgun:"Shotgun",rocket_launcher:"Rocket",submachine_gun:"SMG"};return Object(d.jsxs)("div",{id:"gunSmith",children:[Object(d.jsxs)("div",{className:"gunSmithRow",children:[Object(d.jsx)("button",{className:"roundButton",style:m,onClick:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=Object(o.a)(Object(o.a)({},S.find((function(e){return e.type===t}))||S[Math.floor(6*Math.random())]),{},{id:F(),rarity:parseInt(e,10),brand:G[Math.floor(7*Math.random())],bonusDamage:null,element:null}),n=c.damage.split("d"),l=Object(r.a)(n,2),s=l[0],i=l[1];return s=parseInt(s,10)+e-1,c.damage=s+"d"+i,c.range=c.range+10*B(e-1),c.bonusDamage="Jakobs"===c.brand?null:Math.random()>.8||"Maliwan"===c.brand?"d6":null,c.bonusDamage&&(c.bonusDamage=B(e+1)+c.bonusDamage,c.element=a||("Torgue"!==c.element?C[Math.floor(7*Math.random())]:"force")),c}(O+1,i,null,null);t(e)},children:"+"}),Object(d.jsx)("div",{className:"scrollRow",children:["pistol","assault_rifle","sniper_rifle","shotgun","rocket_launcher","submachine_gun"].map((function(e){return Object(d.jsx)(D,{data:e,onClick:b,active:i===e,label:f[e]},e)}))})]}),Object(d.jsx)("div",{className:"wrapRow",children:["Common","Rare","Epic","Legendary"].map((function(e,t){return Object(d.jsx)(D,{data:t,onClick:h,active:O===t,label:e},e)}))})]})}function _(e){var t=Object(s.useState)(JSON.parse(localStorage.getItem("BL_Backup"))||{hp:20,sp:10,dex:0,prof:0}),a=Object(r.a)(t,2),c=a[0],n=a[1],l=Object(s.useState)(!1),b=Object(r.a)(l,2),j=b[0],u=b[1],O=Object(s.useGlobal)(),h=Object(r.a)(O,1)[0],f=Object(s.useGlobal)("theme"),g=Object(r.a)(f,2),v=g[0],S=g[1],G=Object(s.useGlobal)("guns"),C=Object(r.a)(G,2),B=C[0],F=C[1],D=Object(s.useGlobal)("sp"),_=Object(r.a)(D,1)[0],L=Object(s.useGlobal)("hp"),A=Object(r.a)(L,1)[0],E=Object(s.useGlobal)("dex"),M=Object(r.a)(E,1)[0],I=Object(s.useGlobal)("prof"),W=Object(r.a)(I,1)[0],J=Object(i.f)();Object(s.useEffect)((function(){var e=JSON.stringify(h);localStorage.setItem("BL_Backup",e)}),[A,_,W,M]),Object(s.useEffect)((function(){j&&J.push("/app")}),[j]);var P=function(e){var t=c;t[e.currentTarget.name]=parseInt(e.currentTarget.value,10),n(Object(o.a)({},t))},U={color:v},H=function(e){var t=e.currentTarget.getAttribute("data-id"),a=B.filter((function(e){return e.id!==t}));F(a)};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"section row between",children:[Object(d.jsxs)("div",{className:"column center",children:[Object(d.jsx)(x,{onChange:P,value:c.hp,name:"hp"}),Object(d.jsx)("div",{style:U,children:"Hitpoints"})]}),Object(d.jsxs)("div",{className:"column center",children:[Object(d.jsx)(x,{onChange:P,value:c.sp,name:"sp"}),Object(d.jsx)("div",{style:U,children:"Shield Power"})]}),Object(d.jsxs)("div",{className:"column center",children:[Object(d.jsx)(x,{onChange:P,value:c.dex,name:"dex"}),Object(d.jsx)("div",{style:U,children:"Dexterity"})]}),Object(d.jsxs)("div",{className:"column center",children:[Object(d.jsx)(x,{onChange:P,value:c.prof,name:"prof"}),Object(d.jsx)("div",{style:U,children:"Proficiency"})]})]}),Object(d.jsx)(y,{label:"Color Theme",children:Object(d.jsx)("input",{className:"input color-picker",type:"color",onChange:function(e){var t=e.currentTarget.value;S(t)},value:v,style:{boxShadow:"inset 0px 0px 0.1em "+v,filter:"drop-shadow(0px 0px 0.5em ".concat(v,")"),border:"3px solid ".concat(v)}})}),Object(d.jsxs)(y,{label:"Manage Guns",children:[Object(d.jsx)(T,{onNewGun:function(e){F([].concat(Object(p.a)(B),[e]))}}),Object(d.jsxs)("div",{className:"gunRowWrapper",children:[Object(d.jsx)(k,{hideDamage:!0,hideAttack:!0}),Object(d.jsx)(N.a,{className:"delete-gun",color:"transparent"})]}),B&&B.map((function(e){return Object(d.jsxs)("div",{className:"gunRowWrapper",children:[Object(d.jsx)(R,{hideDamage:!0,hideAttack:!0,gun:e}),Object(d.jsx)(N.a,{className:"delete-gun",onClick:H,color:v,"data-id":e.id})]},e.id)}))]}),Object(d.jsx)("div",{className:"section",children:Object(d.jsx)(w,{label:"save",onClick:function(){Object(s.setGlobal)({theme:v,hp:c.hp,sp:c.sp,dex:c.dex,prof:c.prof,healthRemaining:c.hp,shieldRemaining:c.sp}),u(!0)}})}),Object(d.jsx)("div",{className:"section",children:Object(d.jsx)(w,{label:"clear",color:"#F44336",onClick:function(){Object(s.setGlobal)(m),localStorage.removeItem("BL_Backup")}})})]})}function L(e){var t=e.blue,a=void 0!==t&&t,c=e.total,n=void 0===c?10:c,l=e.remaining,o=void 0===l?10:l,r=Object(v.a)(e,["blue","total","remaining"]),s=a?"#00dffc":"#F44336",i={width:(o/n*100).toFixed(2)+"%",background:s},b={borderColor:a?"#00dffc":"#F44336",boxShadow:"inset 0px 0px 1em "+s,filter:"drop-shadow(0px 0px ".concat(o/n*.5+"em"," ").concat(s,")")};return Object(d.jsx)("div",{children:Object(d.jsxs)("fieldset",{className:"statusBarFieldSet",onClick:function(){r.regen(a)},style:b,children:[Object(d.jsx)("legend",{className:"legend textBorder",children:o}),Object(d.jsx)("div",{className:"statusBarInner",style:i})]})})}function A(e){var t=Object(s.useGlobal)("shieldRemaining"),a=Object(r.a)(t,2),c=a[0],n=a[1],l=Object(s.useGlobal)("sp"),o=Object(r.a)(l,1)[0],i=Object(s.useGlobal)("hp"),b=Object(r.a)(i,1)[0],j=Object(s.useGlobal)("healthRemaining"),u=Object(r.a)(j,2),O=u[0],h=u[1],m=Object(s.useState)(0),f=Object(r.a)(m,2),g=f[0],p=f[1];Object(s.useEffect)((function(){p(0)}),[O,c]);return Object(d.jsxs)("div",{className:"row center",children:[Object(d.jsx)(w,{onClick:function(){var e=parseInt(g,10);e>2*o&&(e-=2*o,n(0),h(e>=O?0:O-e),e=0),e<=0||(c>0?n(e>=c?0:c-e):h(e>=O?0:O-e))},label:"-",color:"#F44336"}),Object(d.jsx)(x,{value:g,onChange:function(e){p(e.currentTarget.value)},style:{marginLeft:"1em",marginRight:"1em"}}),Object(d.jsx)(w,{onClick:function(){var e=parseInt(g,10);h(O+e>=b?b:O+e)},label:"+",color:"#09ff9b"})]})}var E=a(84);function M(){var e=Object(s.useGlobal)("sp"),t=Object(r.a)(e,1)[0],a=Object(s.useGlobal)("hp"),c=Object(r.a)(a,1)[0],n=Object(s.useGlobal)("dex"),l=Object(r.a)(n,1)[0],o=Object(s.useGlobal)("prof"),i=Object(r.a)(o,1)[0],b=Object(s.useGlobal)("guns"),j=Object(r.a)(b,1)[0],u=Object(s.useGlobal)("theme"),O=Object(r.a)(u,1)[0],h=Object(s.useGlobal)("shieldRemaining"),m=Object(r.a)(h,2),f=m[0],g=m[1],p=Object(s.useGlobal)("healthRemaining"),v=Object(r.a)(p,2),w=v[0],N=v[1],S=Object(s.useGlobal)(),G=Object(r.a)(S,1)[0],C=i+l,B=btoa(JSON.stringify(G));console.log(B);var F=function(e){e?g(t):N(c)};Object(s.useEffect)((function(){console.log(G)}),[G]),Object(s.useEffect)((function(){var e=JSON.stringify(G);localStorage.setItem("BL_Backup",e)}),[f,w]);return Object(d.jsxs)("div",{id:"dashboard",children:[Object(d.jsxs)(y,{label:"Health & Shields",children:[Object(d.jsx)(L,{blue:!0,total:t,remaining:f,regen:F}),Object(d.jsx)(L,{total:c,remaining:w,regen:F}),Object(d.jsx)(A,{})]}),Object(d.jsxs)(y,{label:"Guns",children:[Object(d.jsx)(k,{}),j&&j.map((function(e){return Object(d.jsx)(R,{gun:e,hitBonus:C},e.id)}))]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(x,{defaultValue:B,style:{cursor:"pointer",width:"-webkit-fill-available"},onPaste:function(e){var t=e.clipboardData.getData("Text");console.log(t);var a=atob(t);(a=JSON.parse(a)).hasOwnProperty("theme")&&(Object(s.setGlobal)(a),window.localStorage.setItem("BL_Backup",JSON.stringify(a)))},onClick:function(e){e.currentTarget.select()}}),Object(d.jsx)(E.a,{onClick:function(){navigator.clipboard.writeText(B).then((function(){alert("copied to clipboard")}),(function(){}))},color:O,style:{marginLeft:"1em",marginRight:"1em",alignSelf:"center",cursor:"pointer"}})]})]})}function I(e){var t=Object(s.useGlobal)("guns"),a=Object(r.a)(t,1)[0],c=Object(s.useGlobal)("dex"),n=Object(r.a)(c,1)[0],l=Object(s.useGlobal)("prof"),i=n+Object(r.a)(l,1)[0];a.forEach((function(e,t){a[t]=Object(o.a)(Object(o.a)({},e),{},{mine:!0})}));var b=Object(s.useState)(a||[]),j=Object(r.a)(b,2),u=j[0],O=j[1],h=Object(s.useGlobal)("theme"),m=Object(r.a)(h,1)[0],f=function(e){var t=e.currentTarget.getAttribute("data-id"),a=u.filter((function(e){return e.id!==t}));O(a)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(y,{label:"Buncha Guns Over Here",children:[Object(d.jsx)(T,{onNewGun:function(e){O([].concat(Object(p.a)(u),[e]))}}),Object(d.jsxs)("div",{className:"gunRowWrapper",children:[Object(d.jsx)(k,{}),Object(d.jsx)(N.a,{className:"delete-gun",color:"transparent"})]}),u&&u.map((function(e){return Object(d.jsxs)("div",{className:"gunRowWrapper",children:[Object(d.jsx)(R,{gun:e,hitBonus:i}),Object(d.jsx)(N.a,{className:"delete-gun",onClick:e.mine?function(){}:f,color:e.mine?"transparent":m,"data-id":e.id})]},e.id)}))]})})}Object(s.setGlobal)(m);var W=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],n=Object(s.useGlobal)(),l=Object(r.a)(n,1)[0];return Object(s.useEffect)((function(){if(localStorage&&localStorage.getItem("BL_Backup")){var e=JSON.parse(localStorage.getItem("BL_Backup"));Object(s.setGlobal)(Object(o.a)({},e))}c(!0)}),[]),Object(d.jsx)("div",{className:"App",children:a?Object(d.jsxs)(h.a,{children:[Object(d.jsx)(O,{}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/config",children:Object(d.jsx)(_,{})}),Object(d.jsx)(i.a,{path:"/guns",children:Object(d.jsx)(I,{})}),Object(d.jsx)(i.a,{path:"/",children:Object(d.jsx)(M,{})})]})]}):Object(d.jsx)("div",{className:"column center",style:{height:"100vh"},children:Object(d.jsx)(g.a,{height:90,width:10,color:l.theme||"#6b5ce7"})})})},J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(Object(d.jsx)(W,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/echo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/echo","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var c=a.headers.get("content-type");404===a.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(t,e)}))}}()}},[[78,1,2]]]);
//# sourceMappingURL=main.f2a8ff9b.chunk.js.map